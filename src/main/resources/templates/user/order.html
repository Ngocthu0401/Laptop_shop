<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{base::Layout(~{::section})}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<section>

    <div class="container mt-5 p-5">
        <form action="/user/save-order" method="post" id="orders" novalidate>
            <div class="row">

                <!-- Thêm thông báo lỗi nếu có -->
                <th:block th:if="${errorMsg == 'Giỏ hàng của bạn hiện đang trống.'}">
                    <div class="alert alert-warning text-center">
                        Giỏ hàng của bạn hiện đang trống. Vui lòng thêm sản phẩm vào giỏ hàng trước khi đặt hàng.
                    </div>
                    <!-- Nút Quay về trang sản phẩm -->
                    <div class="text-center">
                        <a href="/products" class="btn btn-primary">Quay về trang sản phẩm</a>
                    </div>
                </th:block>

                <div class="col-md-6">
                    <div class="mb-3 row">
                        <p class="text-center fs-4">Billing Address</p>
                        <hr>
                        <div class="col p-1">
                            <label>Full Name</label>
                            <input type="text" name="fullName" class="form-control mt-1" th:value="${orderRequest.fullName}" required>
                        </div>

                        <div class="col p-1">
                            <label>Email</label>
                            <input type="email" name="email" class="form-control mt-1" th:value="${orderRequest.email}" required>
                        </div>
                    </div>

                    <div class="mb-3 row">
                        <div class="col p-1">
                            <label>Address</label>
                            <input type="text" name="address" class="form-control mt-1" th:value="${orderRequest.address}" required>
                        </div>

                        <div class="col p-1">
                            <label>Mobile Number</label>
                            <input type="text" name="mobileNo" class="form-control mt-1" th:value="${orderRequest.mobileNo}" required>
                        </div>
                    </div>

                </div>

                <div class="col-md-6 ">
                    <p class="text-center fs-4">Payment Type</p>
                    <hr>
                    <div class="card">
                        <div class="card-body">
                            <table class="table table-borderless">
                                <tbody>
                                <tr>
                                    <td>Total Price</td>
                                    <td>:</td>
                                    <td>[[${orderPrice}]]</td>
                                </tr>
                                <tr>
                                    <td>Delivery Fee</td>
                                    <td>:</td>
                                    <td>100</td>
                                </tr>
                                <tr>
                                    <td>Tax</td>
                                    <td>:</td>
                                    <td>150</td>
                                </tr>
                                <tr class="border-top">
                                    <td>Total Price</td>
                                    <td>:</td>
                                    <td>[[${totalOrderPrice}]]</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="card shadow p-3 mt-2 mb-5 bg-body-tertiary rounded">
                        <div class="card-body">
                            <div class="mb-3">
                                <label class="form-label">Select Payment Type</label>
                                <hr>
                                <select class="form-control" name="paymentType" required>
                                    <option value="">--Select--</option>
                                    <option value="COD">Cash On Delivery</option>
                                    <option value="ONLINE">Online Payment</option>
                                </select>
                            </div>

                            <button class="btn bg-primary text-white col-md-12">Place Order</button>
                        </div>
                    </div>
                </div>

            </div>
        </form>
    </div>

</section>
</body>
</html>
